(()=>{if(window.__xipeToolbarInjected)return;window.__xipeToolbarInjected=!0;const e=document,t=document.body,o=document.documentElement,n=window.__xipeRefData={mode:"theme",colors:[],areas:[],design_tokens:null};window.__xipeRefReady=!1,window.__xipeRefCommand=null,window.__xipeAnalyzeEnabled=!1,window.__xipeGenerateMockupEnabled=!1;const i={},a={};let r,s="theme";function d(t,o,n){const i=e.createElement(t);return o&&(i.className=o),n&&(i.innerHTML=n),i}function p(e,t){e.style.cssText=t}window.__xipeToast=(e,t="info",o=3e3)=>{if(!r)return;const n=d("div","xt xt-"+t,'<span class="xti">'+({info:"‚Ñπ",progress:"‚è≥",success:"‚úì",error:"‚úó"}[t]||"‚Ñπ")+'</span><span class="xtm">'+e+"</span>");for(r.appendChild(n);r.children.length>3;)r.removeChild(r.firstChild);"error"!==t&&setTimeout(()=>{n.parentNode&&n.remove()},o)},window.__xipeRegisterMode=(e,t)=>{i[e]=t,a[e]&&e===s&&t(a[e])};const l=e.createElement("style");l.textContent=".xipe-toolbar{position:fixed;top:50%;right:20px;z-index:2147483647;font-family:system-ui,sans-serif;user-select:none;transform:translateY(-50%)}.xipe-ham{width:52px;height:52px;background:linear-gradient(135deg,#3730a3,#4f46e5);border:2px solid rgba(255,255,255,.25);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:grab;color:#fff;font-size:9px;font-weight:700;letter-spacing:.08em;box-shadow:0 4px 16px rgba(55,48,163,.35);transition:all .4s cubic-bezier(.22,1,.36,1)}.xipe-ham:hover{background:linear-gradient(135deg,#4f46e5,#7c3aed,#a855f7);transform:scale(1.1)}.xp{position:absolute;right:62px;top:50%;transform:translateY(-50%);width:280px;max-height:80vh;background:#0f172a;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;transition:width 350ms cubic-bezier(.22,1,.36,1),opacity 350ms;box-shadow:0 8px 32px rgba(0,0,0,.4)}.xp.xc{width:0;opacity:0;pointer-events:none;overflow:hidden;border:none}.xph{padding:14px 16px 10px;border-bottom:1px solid rgba(255,255,255,.08);display:flex;align-items:center;gap:8px}.xph .dot{width:6px;height:6px;border-radius:50%;background:#10b981}.xph .ttl{color:#e2e8f0;font-size:13px;font-weight:600}.xmt{display:flex;gap:4px;padding:8px 12px}.xmt button{flex:1;padding:6px 8px;background:0 0;border:1px solid rgba(255,255,255,.12);border-radius:8px;color:#94a3b8;font-size:11px;font-weight:500;cursor:pointer;text-align:center;transition:all .2s;font-family:inherit}.xmt button.xa{background:#10b981;color:#fff;border-color:#10b981}.xmc{padding:12px;overflow-y:auto;max-height:calc(80vh - 120px);min-height:100px}.xta{padding:8px 12px}.xt{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:8px;font-size:11px;color:#e2e8f0;margin-bottom:4px;animation:xsi .3s ease}.xt-info{background:rgba(59,130,246,.15);border:1px solid rgba(59,130,246,.3)}.xt-progress{background:rgba(168,85,247,.15);border:1px solid rgba(168,85,247,.3)}.xt-success{background:rgba(16,185,129,.15);border:1px solid rgba(16,185,129,.3)}.xt-error{background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.3)}.xti{font-size:14px}.xtm{flex:1}@keyframes xsi{from{transform:translateX(20px);opacity:0}to{transform:translateX(0);opacity:1}}.xsi{display:flex;gap:4px;padding:8px 0;margin-bottom:8px}.xsd{flex:1;height:3px;border-radius:2px;background:rgba(255,255,255,.1)}.xsd.xa{background:#10b981}.xsl{font-size:11px;color:#94a3b8;margin-bottom:8px}.xb{display:block;width:100%;padding:8px;border:none;border-radius:8px;font-size:12px;font-weight:600;cursor:pointer;text-align:center;transition:all .2s;margin-top:8px;font-family:inherit}.xb1{background:#10b981;color:#fff}.xb1:hover{background:#059669}.xb1:disabled{background:#374151;color:#6b7280;cursor:not-allowed}.xb-proc{position:relative;pointer-events:none;opacity:.7}.xb-proc::after{content:'';position:absolute;right:8px;top:50%;transform:translateY(-50%);width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:xspin .6s linear infinite}@keyframes xspin{to{transform:translateY(-50%) rotate(360deg)}}.xb2{background:rgba(255,255,255,.08);color:#e2e8f0}.xbt{background:rgba(255,255,255,.08);color:#e2e8f0;border:1px solid rgba(255,255,255,.15)}.xbt.xon{background:#10b981;color:#fff;border-color:#10b981}.xnb{display:flex;gap:6px;margin-top:10px}.xnb .xb{flex:1}.xsw{position:fixed;padding:4px 10px;border-radius:12px;font-size:11px;font-family:monospace;color:#fff;pointer-events:none;z-index:2147483646;animation:xfo 3s forwards}@keyframes xfo{0%,70%{opacity:1}100%{opacity:0}}.xcr{display:flex;align-items:center;gap:6px;padding:4px 0;font-size:11px;color:#e2e8f0}.xcs{width:16px;height:16px;border-radius:50%;flex-shrink:0;border:1px solid rgba(255,255,255,.2)}.xch{font-family:monospace;font-size:10px}.xcx{background:none;border:none;color:#94a3b8;cursor:pointer;font-size:12px;margin-left:auto;opacity:0;transition:opacity .2s;font-family:inherit}.xcr:hover .xcx{opacity:1}.xrr{display:flex;align-items:center;gap:6px;padding:6px 0;border-bottom:1px solid rgba(255,255,255,.06);flex-wrap:wrap}.xrc{display:flex;gap:4px;align-items:center}.xrp{padding:2px 8px;border-radius:12px;font-size:10px;border:1px solid rgba(255,255,255,.2);background:0 0;color:#94a3b8;cursor:pointer;transition:all .2s;font-family:inherit}.xrp.xa{background:#10b981;color:#fff;border-color:#10b981}.xri{width:60px;padding:2px 6px;border-radius:6px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.05);color:#e2e8f0;font-size:10px;font-family:inherit}.xsh{position:fixed;border:2px solid rgba(59,130,246,.6);background:rgba(59,130,246,.08);pointer-events:none;z-index:2147483645;transition:all .08s ease-out}.xsh .xtb{background:rgba(59,130,246,.85)}.xso{position:fixed;border:2px dashed #10b981;pointer-events:none;z-index:2147483646;display:none}.xso.xoa{display:block}.xtb{position:absolute;top:-22px;left:0;background:#10b981;color:#fff;font-size:10px;padding:2px 6px;border-radius:4px;font-family:monospace;pointer-events:none}.xdh{position:absolute;width:8px;height:8px;background:#10b981;pointer-events:auto;border-radius:1px}.xkr{display:flex;align-items:center;gap:6px;padding:6px 4px;font-size:11px;color:#e2e8f0;border-bottom:1px solid rgba(255,255,255,.06);cursor:pointer;border-radius:4px;transition:background .15s}.xkr:hover{background:rgba(255,255,255,.04)}.xkr.xka{background:rgba(16,185,129,.15);border-left:2px solid #10b981}.xkt{background:rgba(16,185,129,.15);color:#10b981;padding:1px 5px;border-radius:4px;font-size:9px;font-family:monospace}.xkd{color:#94a3b8;font-size:9px}.xkx{background:none;border:none;color:#94a3b8;cursor:pointer;font-size:12px;margin-left:auto;opacity:0;transition:opacity .2s}.xkr:hover .xkx{opacity:1}.xii{width:100%;padding:4px 8px;border-radius:6px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.05);color:#e2e8f0;font-size:10px;margin-top:4px;font-family:inherit}",e.head.appendChild(l);const c=d("div","xipe-toolbar"),x=d("div","xipe-ham");x.textContent="X-IPE",c.appendChild(x);const b=d("div","xp xc"),f=d("div","xph",'<span class="dot"></span><span class="ttl">X-IPE Reference</span>');b.appendChild(f);const g=d("div","xmt"),u=[{id:"theme",label:"üé® Catch Theme"},{id:"mockup",label:"üìê Copy Mockup"}],h=u.map(e=>{const t=d("button");return t.textContent=e.label,t.dataset.mode=e.id,e.id===s&&t.classList.add("xa"),t.onclick=()=>{return t=e.id,window.__xipeThemeDeactivate&&window.__xipeThemeDeactivate(),window.__xipeMockupDeactivate&&window.__xipeMockupDeactivate(),s=t,n.mode=t,h.forEach(e=>e.classList.toggle("xa",e.dataset.mode===t)),Object.entries(a).forEach(([e,o])=>{p(o,"display:"+(e===t?"block":"none"))}),void(i[t]&&!a[t].dataset.init&&(i[t](a[t]),a[t].dataset.init="1"));var t},g.appendChild(t),t});b.appendChild(g);const m=d("div","xmc");u.forEach(e=>{const t=d("div");t.className="xm-"+e.id,p(t,"display:"+(e.id===s?"block":"none")),a[e.id]=t,m.appendChild(t)}),b.appendChild(m),r=d("div","xta"),b.appendChild(r),c.appendChild(b),t.appendChild(c);let y=null;function w(){b.classList.add("xc")}x.addEventListener("mouseenter",()=>{clearTimeout(y),b.classList.remove("xc")}),b.addEventListener("mouseenter",()=>{clearTimeout(y)}),b.addEventListener("mouseleave",()=>{y=setTimeout(w,2e3)}),x.addEventListener("mouseleave",()=>{y=setTimeout(w,2e3)});let v=!1,k=0,C=0;function _(e,t,o,n,i){e.innerHTML="";const a=d("div","xsi");t.forEach((e,t)=>{const n=d("div","xsd"+(t<o?" xa":""));a.appendChild(n)}),e.appendChild(a);const r=d("div","xsl");r.textContent="Step "+o+"/"+t.length+": "+t[o-1],e.appendChild(r);const s=[];t.forEach((t,n)=>{const i=d("div");p(i,"display:"+(n+1===o?"block":"none")),s.push(i),e.appendChild(i)});const l=d("div","xnb");if(o>1){const e=d("button","xb xb2");e.textContent="Back",e.onclick=()=>n(o-1),l.appendChild(e)}if(o<t.length){const e=d("button","xb xb1");e.textContent="Next",e.onclick=()=>n(o+1),l.appendChild(e)}e.appendChild(l),i(s)}let D=0,F=0;x.addEventListener("mousedown",e=>{D=e.clientX,F=e.clientY;const r=c.getBoundingClientRect();k=e.clientX-r.left,C=e.clientY-r.top,e.preventDefault()}),e.addEventListener("mousemove",e=>{if(!D&&!F)return;const t=e.clientX-D,o=e.clientY-F;!v&&(Math.abs(t)>5||Math.abs(o)>5)&&(v=!0,x.style.cursor="grabbing",w()),v&&(p(c,"left:"+Math.max(10,Math.min(innerWidth-62,e.clientX-k))+"px;top:"+Math.max(10,Math.min(innerHeight-62,e.clientY-C))+"px;right:auto;transform:none;position:fixed;z-index:2147483647"),e.clientX-k>innerWidth/2?(b.style.right="62px",b.style.left="auto"):(b.style.left="62px",b.style.right="auto"))}),e.addEventListener("mouseup",()=>{v&&(v=!1,x.style.cursor="grab"),D=0,F=0}),setInterval(function(){const t=window.__xipeRefCommand;if(t)if(window.__xipeRefCommand=null,"deep_capture"===t.action){const o=n.areas.find(e=>e.id===t.target);if(!o)return;const i=e.querySelector(o.snap_selector);if(!i)return;const a=getComputedStyle(i),r={};for(let e=0;e<a.length;e++)r[a[e]]=a.getPropertyValue(a[e]);o.html_css={level:"deep",computed_styles:r,outer_html:i.outerHTML},window.__xipeRefReady=!0}else"reset"===t.action&&(n.colors=[],n.areas=[],n.design_tokens=null,window.__xipeToast("Data reset","info"))},1e3),window.__xipeRegisterMode("theme",function(e){let o=0,i=1;const a="undefined"!=typeof EyeDropper;function r(){a?(new EyeDropper).open().then(e=>function(e){const i=function(e){const t=e.replace("#","").match(/.{2}/g);return t?t.map(e=>parseInt(e,16)):[0,0,0]}(e),a=function(e,t,o){const n=Math.max(e/=255,t/=255,o/=255),i=Math.min(e,t,o);let a,r,s=(n+i)/2;if(n===i)a=r=0;else{const d=n-i;r=s>.5?d/(2-n-i):d/(n+i),a=n===e?((t-o)/d+(t<o?6:0))/6:n===t?((o-e)/d+2)/6:((e-t)/d+4)/6}return Math.round(360*a)+", "+Math.round(100*r)+"%, "+Math.round(100*s)+"%"}(i[0],i[1],i[2]);o++,n.colors.push({id:"color-"+(o+"").padStart(3,"0"),hex:e.toLowerCase(),rgb:i.join(", "),hsl:a,source_selector:"eyedropper",role:""});const r=d("div","xsw");r.textContent=e,p(r,"background:"+e+";left:50%;top:50%;transform:translate(-50%,-50%)"),t.appendChild(r),setTimeout(()=>r.remove(),3e3),l(),window.__xipeToast("Picked "+e,"info",2e3)}(e.sRGBHex)).catch(()=>{}):window.__xipeToast("EyeDropper API not supported","error")}window.__xipeThemeDeactivate=()=>{};const s=["primary","secondary","accent"];function l(){_(e,["Pick Colors","Annotate Roles","Create Theme"],i,e=>{i=e,l()},e=>{var t;1===i?function(e){const t=d("button","xb xbt");if(t.textContent="üéØ Pick Color",t.onclick=r,e.appendChild(t),n.colors.forEach((t,o)=>{const i=d("div","xcr",'<span class="xcs" style="background:'+t.hex+'"></span><span class="xch">'+t.hex+"</span>"),a=d("button","xcx");a.textContent="√ó",a.onclick=()=>{n.colors.splice(o,1),l()},i.appendChild(a),e.appendChild(i)}),!n.colors.length){const t=d("div");p(t,"color:#64748b;font-size:11px;text-align:center;padding:12px"),t.textContent='Click "Pick Color" to start',e.appendChild(t)}}(e[0]):2===i?(t=e[1],n.colors.length?n.colors.forEach(e=>{const o=d("div","xrr",'<span class="xcs" style="background:'+e.hex+'"></span><span class="xch">'+e.hex+"</span>"),n=d("div","xrc");s.forEach(t=>{const o=d("button","xrp"+(e.role===t?" xa":""));o.textContent=t,o.onclick=()=>{e.role=t,l()},n.appendChild(o)});const i=d("input");i.className="xri",i.placeholder="custom",i.value=s.includes(e.role)?"":e.role,i.oninput=t=>{e.role=t.target.value},n.appendChild(i),o.appendChild(n),t.appendChild(o)}):t.innerHTML='<div style="color:#64748b;font-size:11px;text-align:center;padding:20px">No colors. Go back.</div>'):function(e){const t=n.colors.filter(e=>e.role),o=d("div");p(o,"color:#e2e8f0;font-size:11px;margin-bottom:12px"),o.textContent=n.colors.length+" colors, "+t.length+" with roles",e.appendChild(o),n.colors.forEach(t=>{const o=d("div","xcr",'<span class="xcs" style="background:'+t.hex+'"></span><span class="xch">'+t.hex+'</span><span style="color:#94a3b8;font-size:10px">'+(t.role||"‚Äî")+"</span>");e.appendChild(o)});const i=d("button","xb xb1");i.textContent="Create Theme",i.disabled=!t.length,i.onclick=()=>{n.mode="theme",window.__xipeRefReady=!0,window.__xipeToast("Creating theme...","progress")},e.appendChild(i)}(e[2])})}l()}),window.__xipeRegisterMode("mockup",function(i){let a=0,r=!1,s=-1,l=1;const c=new Set(["SECTION","NAV","ARTICLE","ASIDE","HEADER","FOOTER","MAIN","FIGURE"]),x=["display","position","flex-direction","justify-content","align-items","width","height","margin","padding","border","border-radius","background","background-color","color","font-family","font-size","font-weight","line-height","box-shadow","opacity","overflow","z-index"],b=[];let f=null,g=null,u=null;function h(e){r=e,e||k(),m()}function m(){f&&(f.classList.toggle("xon",r),f.textContent=r?"üìê Selecting...":"üìê Select Area")}function y(e){s=s===e?-1:e,w(),E()}function w(){b.forEach((e,t)=>e.classList.toggle("xoa",t===s))}function v(e){let o=e,n=0;for(;o&&o!==t&&n<5;){if(c.has(o.tagName)||o.getAttribute("role"))return o;o=o.parentElement,n++}for(o=e,n=0;o&&o!==t&&n<5;){if("DIV"===o.tagName&&o.offsetWidth>50&&o.offsetHeight>50)return o;o=o.parentElement,n++}return null}function k(){g&&(g.style.display="none"),u=null}function C(e){if(n.areas.forEach((t,o)=>{const i=d("div","xkr"+(o===s?" xka":""),'<span class="xkt">'+t.id+'</span><span class="xkd">'+Math.round(t.bounding_box.width)+"√ó"+Math.round(t.bounding_box.height)+"</span>"),a=d("button","xkx");a.textContent="√ó",a.onclick=e=>{e.stopPropagation(),n.areas.splice(o,1),b[o]&&(b[o].remove(),b.splice(o,1)),s===o?s=-1:s>o&&s--,w(),E()},i.appendChild(a),i.addEventListener("click",e=>{e.target.closest(".xkx")||y(o)}),e.appendChild(i)}),!n.areas.length){const t=d("div");p(t,"color:#64748b;font-size:11px;text-align:center;padding:12px"),t.textContent="Toggle selector, then click on page",e.appendChild(t)}}function R(e){n.areas.forEach(function(t){var o=d("div","xkr",'<span class="xkt">'+t.id+'</span><span class="xkd">'+Math.round(t.bounding_box.width)+"√ó"+Math.round(t.bounding_box.height)+"</span>");e.appendChild(o)})}function E(){_(i,["Select Areas","Add Instructions","Analyze","Generate"],l,e=>{l=e,h(!1),E()},e=>{if(1===l)f=d("button","xb xbt"),f.onclick=()=>{const e=!r;h(e),e&&(s=-1,w())},m(),e[0].appendChild(f),C(e[0]);else if(2===l)t=e[1],n.areas.length?n.areas.forEach((e,o)=>{const n=d("div");p(n,"margin-bottom:8px;padding:4px;border-radius:4px;cursor:pointer;"+(o===s?"background:rgba(16,185,129,.15);border-left:2px solid #10b981;":"")),n.innerHTML='<div class="xkr" style="border-bottom:none"><span class="xkt">'+e.id+"</span></div>",n.addEventListener("click",e=>{"INPUT"!==e.target.tagName&&y(o)});const i=d("input");i.className="xii",i.placeholder="Add notes...",i.value=e.instruction,i.oninput=t=>e.instruction=t.target.value,n.appendChild(i),t.appendChild(n)}):t.innerHTML='<div style="color:#64748b;font-size:11px;text-align:center;padding:20px">No areas. Go back.</div>';else if(3===l){const t=d("div");p(t,"color:#e2e8f0;font-size:11px;margin-bottom:12px"),t.textContent=n.areas.length+" areas ready",e[2].appendChild(t),R(e[2]);const o=d("button","xb xb1");o.textContent="Analyze",o.setAttribute("data-xipe-analyze","true"),o.disabled=!n.areas.length,o.onclick=()=>{n.mode="mockup",n.action="analyze",window.__xipeAnalyzeEnabled=!1,window.__xipeGenerateMockupEnabled=!1,o.disabled=!0,o.classList.add("xb-proc"),window.__xipeRefReady=!0,window.__xipeToast("Analyzing areas...","progress")},e[2].appendChild(o)}else{const t=d("div");p(t,"color:#e2e8f0;font-size:11px;margin-bottom:12px"),t.textContent="Ready to generate from "+n.areas.length+" areas",e[3].appendChild(t),R(e[3]);const o=d("button","xb xb1");o.textContent="Generate Mockup",o.setAttribute("data-xipe-generate","true"),o.disabled=!n.areas.length,o.onclick=()=>{n.mode="mockup",n.action="generate",window.__xipeGenerateMockupEnabled=!1,o.disabled=!0,o.classList.add("xb-proc"),window.__xipeRefReady=!0,window.__xipeToast("Generating mockup...","progress")},e[3].appendChild(o)}var t})}window.__xipeMockupDeactivate=()=>{h(!1),s=-1,w()},e.addEventListener("mousemove",function(e){if(!r)return void k();if(e.target.closest(".xipe-toolbar,.xso,.xsh"))return;const n=v(e.target);if(!n||n===t||n===o||n===u)return;u=n;const i=n.getBoundingClientRect();g||(g=d("div","xsh"),g.appendChild(d("span","xtb")),t.appendChild(g)),p(g,"left:"+i.x+"px;top:"+i.y+"px;width:"+i.width+"px;height:"+i.height+"px;display:block"),g.querySelector(".xtb").textContent=n.tagName.toLowerCase()},!0),e.addEventListener("click",function(i){if(!r||"mockup"!==n.mode)return;if(i.target.closest(".xipe-toolbar,.xso"))return;i.preventDefault(),i.stopPropagation();const l=v(i.target);l&&l!==t&&l!==o?n.areas.length>=20?window.__xipeToast("Max 20 areas.","error"):(k(),function(i){a++;const r="area-"+a,l=i.getBoundingClientRect(),c=(e=>{if(!e||e===t||e===o)return"body";if(e.id)return"#"+CSS.escape(e.id);const n=[];let i=e;for(;i&&i!==t&&i!==o;){let e=i.tagName.toLowerCase();const t=[...i.classList].filter(e=>!/[0-9a-f]{6,}|__|--[a-z0-9]{4,}/i.test(e)).filter(e=>!e.startsWith("xipe-")).slice(0,2);if(t.length)e+="."+t.map(CSS.escape).join(".");else{const t=[...i.parentElement?.children||[]].filter(e=>e.tagName===i.tagName);t.length>1&&(e+=":nth-of-type("+(t.indexOf(i)+1)+")")}n.unshift(e),i=i.parentElement}return"body > "+n.join(" > ")})(i),f=i.tagName.toLowerCase(),g=getComputedStyle(i),u={};x.forEach(e=>u[e]=g.getPropertyValue(e)),n.areas.push({id:r,snap_selector:c,snap_tag:f,bounding_box:{x:l.x,y:l.y,width:l.width,height:l.height},html_css:{level:"minimal",computed_styles:u,outer_html:null},instruction:""});const h=n.areas.length-1;(function(o,i,a){const r=d("div","xso");p(r,"left:"+o.x+"px;top:"+o.y+"px;width:"+o.width+"px;height:"+o.height+"px");const s=d("span","xtb");s.textContent=i,r.appendChild(s),[{x:0,y:0,c:"nw-resize",dx:-1,dy:-1},{x:.5,y:0,c:"n-resize",dx:0,dy:-1},{x:1,y:0,c:"ne-resize",dx:1,dy:-1},{x:1,y:.5,c:"e-resize",dx:1,dy:0},{x:1,y:1,c:"se-resize",dx:1,dy:1},{x:.5,y:1,c:"s-resize",dx:0,dy:1},{x:0,y:1,c:"sw-resize",dx:-1,dy:1},{x:0,y:.5,c:"w-resize",dx:-1,dy:0}].forEach(t=>{const o=d("div","xdh");p(o,"left:"+100*t.x+"%;top:"+100*t.y+"%;margin:-4px;cursor:"+t.c),o.addEventListener("mousedown",o=>{o.preventDefault(),o.stopPropagation();const i=o.clientX,s=o.clientY,d={x:parseFloat(r.style.left),y:parseFloat(r.style.top),w:parseFloat(r.style.width),h:parseFloat(r.style.height)};function l(e){e.preventDefault();const o=e.clientX-i,n=e.clientY-s;let a=d.x,l=d.y,c=d.w,x=d.h;-1===t.dx&&(a=d.x+o,c=d.w-o),1===t.dx&&(c=d.w+o),-1===t.dy&&(l=d.y+n,x=d.h-n),1===t.dy&&(x=d.h+n),c=Math.max(20,c),x=Math.max(20,x),p(r,"left:"+a+"px;top:"+l+"px;width:"+c+"px;height:"+x+"px")}e.addEventListener("mousemove",l),e.addEventListener("mouseup",function t(){e.removeEventListener("mousemove",l),e.removeEventListener("mouseup",t);const o=n.areas[a];o&&(o.bounding_box={x:parseFloat(r.style.left),y:parseFloat(r.style.top),width:parseFloat(r.style.width),height:parseFloat(r.style.height)}),E()})}),r.appendChild(o)}),t.appendChild(r),b.push(r)})(l,r,h),s=h,w(),E(),window.__xipeToast("Selected: "+r+" ("+f+")","info",2e3)}(l),h(!1)):window.__xipeToast("Click a more specific element.","error")},!0),E()}),setInterval(()=>{const t=e.querySelector("[data-xipe-analyze]"),o=e.querySelector("[data-xipe-generate]");t&&window.__xipeAnalyzeEnabled&&(t.disabled=!1,t.classList.remove("xb-proc")),o&&window.__xipeGenerateMockupEnabled&&(o.disabled=!1,o.classList.remove("xb-proc"))},500),window.__xipeToolbarReady=!0})();