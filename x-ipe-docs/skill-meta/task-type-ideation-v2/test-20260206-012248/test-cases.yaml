# Test Cases for task-type-ideation-v2
# Generated: 2026-02-06

skill_name: task-type-ideation-v2
skill_type: task_type
test_date: 2026-02-06

test_cases:
  # MUST Pass (Required)
  - id: tc-001
    ac_id: AC-M1
    name: Section Order Correct
    type: self_check
    priority: MUST
    steps:
      - action: extract_sections
        target: candidate/SKILL.md
      - action: validate_order
        expected:
          - Purpose
          - Important Notes
          - Input Parameters
          - Definition of Ready
          - Execution Flow
          - Execution Procedure
          - Output Result
          - Definition of Done
          - Patterns & Anti-Patterns
          - Examples
    expected_result: All 10 sections in correct order

  - id: tc-002
    ac_id: AC-M2
    name: Line Count Under 500
    type: self_check
    priority: MUST
    steps:
      - action: count_lines
        target: candidate/SKILL.md
      - action: assert
        condition: line_count < 500
    expected_result: Line count under 500

  - id: tc-003
    ac_id: AC-M3
    name: Frontmatter Valid
    type: self_check
    priority: MUST
    steps:
      - action: extract_frontmatter
        target: candidate/SKILL.md
      - action: validate
        checks:
          - field: name
            condition: exists AND length >= 1 AND length <= 64
          - field: description
            condition: exists AND contains trigger phrases
    expected_result: Valid frontmatter with name and description

  - id: tc-004
    ac_id: AC-M4
    name: DoR Uses XML Format
    type: self_check
    priority: MUST
    steps:
      - action: grep
        pattern: "<definition_of_ready>"
        target: candidate/SKILL.md
      - action: grep
        pattern: "<checkpoint"
        target: candidate/SKILL.md
    expected_result: DoR uses XML checkpoint format

  - id: tc-005
    ac_id: AC-M5
    name: DoD Uses XML Format
    type: self_check
    priority: MUST
    steps:
      - action: grep
        pattern: "<definition_of_done>"
        target: candidate/SKILL.md
      - action: grep
        pattern: "<checkpoint"
        target: candidate/SKILL.md
      - action: grep
        pattern: "<step_output>"
        target: candidate/SKILL.md
    expected_result: DoD uses XML checkpoint format with step_output tags

  - id: tc-006
    ac_id: AC-M6
    name: Execution Procedure Uses XML Format
    type: self_check
    priority: MUST
    steps:
      - action: grep
        pattern: '<procedure name="ideation-v2">'
        target: candidate/SKILL.md
      - action: grep
        pattern: "<step_"
        target: candidate/SKILL.md
    expected_result: Procedure uses XML format with step tags

  - id: tc-007
    ac_id: AC-M7
    name: Keywords Used for Importance
    type: self_check
    priority: MUST
    steps:
      - action: grep
        pattern: "BLOCKING:|CRITICAL:|MANDATORY:"
        target: candidate/SKILL.md
      - action: assert
        condition: count >= 1
      - action: grep
        pattern: "âš ï¸|â›”|ðŸ”´"
        target: candidate/SKILL.md
      - action: assert
        condition: count == 0
    expected_result: Uses keywords, not emoji

  - id: tc-008
    ac_id: AC-M8
    name: Examples in References
    type: self_check
    priority: MUST
    steps:
      - action: file_exists
        target: candidate/references/examples.md
      - action: count_sections
        pattern: "## Example"
        target: candidate/references/examples.md
      - action: assert
        condition: count >= 3
    expected_result: examples.md exists with 3+ examples

  - id: tc-009
    ac_id: AC-M9
    name: Draft-Critique-Improve Flow
    type: self_check
    priority: MUST
    steps:
      - action: grep
        pattern: "Generate.*Draft|Generate Idea Draft"
        target: candidate/SKILL.md
      - action: grep
        pattern: "Critique|Feedback"
        target: candidate/SKILL.md
      - action: grep
        pattern: "Improve.*Summary|Improve and Deliver"
        target: candidate/SKILL.md
    expected_result: Steps 7, 8, 9 implement refinement cycle

  - id: tc-010
    ac_id: AC-M10
    name: Step Outputs Covered in DoD
    type: self_check
    priority: MUST
    steps:
      - action: extract
        pattern: "<output>"
        target: candidate/SKILL.md
      - action: extract
        pattern: "<step_output>"
        target: candidate/SKILL.md
      - action: compare
        condition: all outputs have matching step_output
    expected_result: Every step output mapped to DoD checkpoint

  # SHOULD Pass (Recommended)
  - id: tc-011
    ac_id: AC-S1
    name: Config Loading Documented
    type: self_check
    priority: SHOULD
    steps:
      - action: grep
        pattern: "tools.json|toolbox.*meta"
        target: candidate/SKILL.md
      - action: grep
        pattern: "Load.*Toolbox|Load.*Config"
        target: candidate/SKILL.md
    expected_result: Step for loading tools.json documented

  - id: tc-012
    ac_id: AC-S2
    name: Brainstorming Rules Clear
    type: self_check
    priority: SHOULD
    steps:
      - action: grep
        pattern: "3-5.*question|batch.*3-5"
        target: candidate/SKILL.md
    expected_result: 3-5 questions per batch rule documented

  - id: tc-013
    ac_id: AC-S3
    name: Folder Rename Logic Documented
    type: self_check
    priority: SHOULD
    steps:
      - action: grep
        pattern: "Draft Idea.*MMDDYYYY|rename.*folder"
        target: candidate/SKILL.md
      - action: file_exists
        target: candidate/references/folder-naming-guide.md
    expected_result: Pattern match and rename rules documented

  - id: tc-014
    ac_id: AC-S4
    name: Next Task Selection Documented
    type: self_check
    priority: SHOULD
    steps:
      - action: grep
        pattern: "Idea Mockup|Idea to Architecture"
        target: candidate/SKILL.md
      - action: grep
        pattern: "next_task_options|human.*choose"
        target: candidate/SKILL.md
    expected_result: Human choice between Mockup/Architecture documented

  - id: tc-015
    ac_id: AC-S5
    name: Critique Sub-Agent Defined
    type: self_check
    priority: SHOULD
    steps:
      - action: grep
        pattern: "<sub_agent>|sub_agent:"
        target: candidate/SKILL.md
      - action: grep
        pattern: "idea-critic|model_hint"
        target: candidate/SKILL.md
    expected_result: Step 8 has sub_agent specification

pass_criteria:
  must_pass_rate: 100%
  should_pass_rate: 80%
